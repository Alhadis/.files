.\" -*- coding: utf-8 -*-
.Dd January 8, 2019
.Dt DSCLEAN 1
.Os "Mac OS X"
.
.Sh NAME
.Nm dsclean
.Nd recursively purge a directory of .DS_Store files
.
.Sh SYNOPSIS
.Nm
.Op Fl q
.Op Pa directory
.Nm
.Op Fl h | -home
.
.Sh DESCRIPTION
.Nm
recursively cleans
.Ar directory
of .DS_Store files generated by macOS\(cqs Finder.
Modification times are preserved if possible.
.
.Pp
If
.Ar directory
is omitted,
the current working directory is used instead.
.
.\" Options
.Bl -tag -width 4n
.
.It Fl h , -home
Target the user\(cqs home directory instead of
.Ar directory
.Pq if present .
Analogous to
.Ql dsclean ~ 2> Ns Pa /dev/null .
.Pp
.Em Note :
Error messages emitted by
.Xr find 1
will be silenced, as certain user directories are private by default on macOS.
.
.It Fl q
Suppress all output.
Analogous to
.Ql dsclean > Ns Pa /dev/null .
.El
.
.Sh EXIT STATUS
.Ex -std
.
.Sh SEE ALSO
.Xr chflags 1 ,
.Xr find 1 ,
.Xr rm 1 ,
.Xr Mac::Finder::DSStore 3
.
.Sh HISTORY
.Nm
was first written on March 22nd 2015 as its author\(cqs first attempt at shell-scripting.
The
.Fl h
switch was added on June 10th, and a basic manpage was written on November 3rd.
.
.Pp
The
.Nm
utility was removed on March 18th 2018 in an effort to move away from macOS in favour of
.Ox .
It was restored in January 2019 after continued use of macOS became necessary.
Its manpage was rewritten to use
.Xr mdoc 7
instead of the original
.Xr man 7
macros.
.
.Sh AUTHORS
.An -nosplit
Copyright \(co 2015-2020
.An John Gardner Aq Mt gardnerjohng@gmail.com .
.Pp
Freely released under the
.Lk http://opensource.org/licenses/ISC "ISC license" .
.
.Sh CAVEATS
The
.Nm
utility is intended for use on Apple macOS.
Its usefulness on other systems is limited to purging shared network drives and portable media,
which are prone to pollution when written to from macOS.
.
.Sh BUGS
Incorrect feedback is reported when attempting to set modification times of read-only folders.
.
